<div class="accent-color-picker">
  <button style="--color: var(--tomato-9)" title="tomato">
    <span aria-label="tomato"></span>
  </button>
  <button style="--color: var(--red-9)" title="red">
    <span aria-label="red"></span>
  </button>
  <button style="--color: var(--ruby-9)" title="ruby">
    <span aria-label="ruby"></span>
  </button>
  <button style="--color: var(--crimson-9)" title="crimson">
    <span aria-label="crimson"></span>
  </button>
  <button style="--color: var(--pink-9)" title="pink">
    <span aria-label="pink"></span>
  </button>
  <button style="--color: var(--plum-9)" title="plum">
    <span aria-label="plum"></span>
  </button>
  <button style="--color: var(--purple-9)" title="purple">
    <span aria-label="purple"></span>
  </button>
  <button style="--color: var(--violet-9)" title="violet">
    <span aria-label="violet"></span>
  </button>
  <button style="--color: var(--iris-9)" title="iris">
    <span aria-label="iris"></span>
  </button>
  <button style="--color: var(--indigo-9)" title="indigo">
    <span aria-label="indigo"></span>
  </button>
  <button style="--color: var(--blue-9)" title="blue">
    <span aria-label="blue"></span>
  </button>
  <button style="--color: var(--cyan-9)" title="cyan">
    <span aria-label="cyan"></span>
  </button>
  <button style="--color: var(--teal-9)" title="teal">
    <span aria-label="teal"></span>
  </button>
  <button style="--color: var(--jade-9)" title="jade">
    <span aria-label="jade"></span>
  </button>
  <button style="--color: var(--green-9)" title="green">
    <span aria-label="green"></span>
  </button>
  <button style="--color: var(--grass-9)" title="grass">
    <span aria-label="grass"></span>
  </button>
  <button style="--color: var(--bronze-9)" title="bronze">
    <span aria-label="bronze"></span>
  </button>
  <button style="--color: var(--gold-9)" title="gold">
    <span aria-label="gold"></span>
  </button>
  <button style="--color: var(--brown-9)" title="brown">
    <span aria-label="brown"></span>
  </button>
  <button style="--color: var(--orange-9)" title="orange">
    <span aria-label="orange"></span>
  </button>
  <button style="--color: var(--amber-9)" title="amber">
    <span aria-label="amber"></span>
  </button>
  <button style="--color: var(--yellow-9)" title="yellow">
    <span aria-label="yellow"></span>
  </button>
  <button style="--color: var(--lime-9)" title="lime">
    <span aria-label="lime"></span>
  </button>
  <button style="--color: var(--mint-9)" title="mint">
    <span aria-label="mint"></span>
  </button>
  <button style="--color: var(--sky-9)" title="sky">
    <span aria-label="sky"></span>
  </button>
</div>

<style>
  .accent-color-picker {
    display: flex;
    gap: 0.125rem;
    flex-wrap: wrap;
  }

  .accent-color-picker button {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 40px;
    width: 40px;
    border-radius: 100%;
    border: 2px solid transparent;
  }

  .accent-color-picker span {
    display: inline-block;
    height: 32px;
    width: 32px;
    background-color: var(--color);
    border-radius: 100%;
  }

  .accent-color-picker button.active {
    border-color: var(--color);
  }

  .accent-color-picker button:hover {
    opacity: 0.8;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const buttons = document.querySelectorAll('.accent-color-picker button');

    function updateCodeBlock (color) {
      const el = document.querySelector('#codecell0 .p + .s2');
      if (el) {
        el.textContent = '"' + color + '"';
      }
    }

    function updateActiveButton (color) {
      buttons.forEach(function(button) {
        if (button.getAttribute('title') === color) {
          button.classList.add('active')
        } else {
          button.classList.remove('active')
        }
      })
    }

    const accent = sessionStorage.getItem('accent-color');
    if (accent) {
      setTimeout(function() {
        updateCodeBlock(accent);
        updateActiveButton(accent);
      });
    }

    buttons.forEach(function(button) {
      button.addEventListener('click', function () {
        const accent = button.getAttribute('title');
        document.documentElement.setAttribute('data-accent-color', accent);
        updateCodeBlock(accent);
        updateActiveButton(accent);
        sessionStorage.setItem('accent-color', accent);
      });
    });
  });
</script>
